---
title: 指针与++
tags: 新建,模板,小书匠
grammar_cjkRuby: true
---

`*p++ *++p ++*p `

**`++` 的优先级  大于 `*` 的优先级 `**`**
```cpp?linenums
#include <iostream.h>
int main(){
 char s[] = "012345678", *p = s;
 cout << *p++ << *(p++) << (*p)++ << *++p << *(++p) <<++*p << ++(*p) << endl;
 
 p = s;
 cout << *p++ << endl;
 cout << *(p++) << endl;
 cout << (*p)++ << endl;
 cout << * ++p << endl;
 cout << *(++p) <<endl;
 cout << ++*p << endl;
 cout << ++( *p) <<endl;
 return 0;
}
```
`VC++6 DEBUG` 下分析：`cout` 的运算是从右向左进行的，但最后输出还是从左到右。所以 
```cpp?linenums
cout << *p++ << *(p++) << (*p)++ << *++p << *(++p) <<++*p << ++(*p) << endl;
```
依次 `++(*p),++*p,*(++p),*++p,(*p)++,*(p++), *p++`,最后再反着输出。
**1. `++*p`: `P` 指向 `S[0]`，并把 `S[0]` 加 1 做为表达式的值，所以输出为 1，此时 `S[0]=='1'`**
**2. `++(*p)`: `P` 还指向 `S[0]`（ `S[0]` 现在的值为1），并把 `S[0]` 加1做为表达式的值，所以输出为2，此时 `S[0]=='2'`**
**3. `*(++p)`: `p` 指向 `S[1]`，然后取 `S[1]` 的值作为表达式的值，输出'1'**
**4. `*++p`：`P` 指向  `S[2]`，然后取 `S[2]` 的值作为表达式的值，输出'2'**
**5. `(*p)++`：`P` 还是指向 `S[2]`，取 `S[2]` 的值作为表达式的值，所以输出 `'2'`，然后 `S[2]` 的值加1，`S[2]==3`**
**6. `*(p++)`：`P` 还是指向 `S[2]`（现值为3），取 `S[2]` 的值作为表达式的值，所以输出'3'，然后 `P` 指向 `S[3]`**
**7. `*p++` ：`P` 指向 `S[3]`，取 `S[3]` 的值作为表达式的值，所以输出'3'，然后 `P` 指向 `S[4]`；**
最后反着输出为3322121
此数组S的值为"213345678".所以后面的输出就是这些值了。

综上所述：
`*p++` 是先取出 `*p` 的值，然后让 `p++`
`(*p)++` 是先取出 `*p` 的值，让这个值 `++`
`*(P++)` 是先取出 `*p` 的值，让 `p++`
所以，`*p++` 等价于 `*(P++)`
而且 `printf` 的运行顺序是从右向左运行。而且右 `++` 是在整个运算表达式运算完才进行，而且右 `++` 的执行顺序是从左到右进行。
而左 `++` 遇到变量就会立即增加变量的值
























































