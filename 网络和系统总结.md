---
title: 网络和系统总结 
tags: 
grammar_cjkRuby: true
---


## TCP 拥塞控制
[TCP的拥塞控制][1]


计算网络中的宽带、交换节点中的缓存和处理机等都是网络资源。某段时间内，若对网络中某一资源需求超过该资源所能提供的可用部分，网络性能变坏，这种情况叫做拥塞。

**拥塞窗口、慢开始和拥塞避免**
拥塞窗口：能发送的字节大小

慢开始：不是一开始就大量发送数据，而是由小到大逐渐增大拥塞窗口；当发送数据报，对方能够收到并返回确认，则下次拥塞窗口加倍。发送更多的数据

![慢开始][2]

拥塞避免：让拥塞窗口缓慢增长，经过一个往返时间 RTT 就把发送方的拥塞窗口 cwd 加 1，而不是加倍

为了防止网络拥塞，设置了一个慢开始门限 ssthresh 状态变量，拥塞窗口控制如下：
* 当cwnd<ssthresh时，使用慢开始算法。
* 当cwnd>ssthresh时，改用拥塞避免算法。
* 当cwnd=ssthresh时，慢开始与拥塞避免算法任意。

无论是在慢开始阶段还是在拥塞避免阶段，只要发送方判断网络出现拥塞（其根据就是没有收到确认，虽然没有收到确认可能是其他原因的分组丢失，但是因为无法判定，所以都当做拥塞来处理），就把慢开始门限设置为出现拥塞时的发送窗口大小的一半。然后把拥塞窗口设置为1，执行慢开始算法。如下图:

![拥塞控制][3]


  [1]: http://blog.csdn.net/sicofield/article/details/9708383
  [2]: ./images/1467384887135.jpg "1467384887135.jpg"
  [3]: ./images/1467385209188.jpg "1467385209188.jpg"
